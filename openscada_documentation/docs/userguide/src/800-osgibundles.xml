<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "http://docbook.org/xml/4.4/docbookx.dtd" []>

<sect1 id="osgibundles"><title><trademark>OSGi</trademark> Bundles</title>
	<para>
	This section describes the different <trademark>OSGi</trademark> bundles available in OpenSCADA.
	</para>
	
<sect2><title>org.openscada.osgi.equinox.console</title>
<para>
	The bundle <filename>org.openscada.osgi.equinox.console</filename> provides an implementation of
	an Equinox console that is accessible using a normal <acronym>TCP</acronym> (or Telnet) connection.	
</para>

	<sect3><title>System properties</title>
		<para>
		The following system properties are available:
		</para>
		
		<table><title>System properties of <filename>org.openscada.osgi.equinox.console</filename></title>
				<tgroup cols="4">
				<thead>
					<row>
						<entry>Property</entry>
						<entry>Type</entry>
						<entry>Required</entry>
						<entry>Description</entry>
					</row>
				</thead>
				<tbody>
					<row>
						<entry>org.openscada.osgi.equinox.console.port</entry>
						<entry>Integer</entry>
						<entry>optional</entry>
						<entry>
						The port number the console will bind to. It is important
						that only one console at a time can bind to a port. Different
						instances with different consoles must have different ports
						otherwise the port cannot be opened and the console will
						not be accessible.
						</entry>
					</row>
					
					<row>
						<entry>org.openscada.osgi.equinox.console.timeout.login</entry>
						<entry>Integer</entry>
						<entry>optional</entry>
						<entry>
						The timeout in milliseconds during the login phase
						(before the user is authenticated). If no input is received
						for the specified amount of time the connection is closed by
						the server.
						</entry>
					</row>
					
					<row>
						<entry>org.openscada.osgi.equinox.console.secret</entry>
						<entry>String</entry>
						<entry>optional</entry>
						<entry>
						The <quote>secret</quote> (<abbrev>aka</abbrev> <quote>password</quote>)
						the user has to enter in order to gain access.
						</entry>
					</row>
					
					<row>
						<entry>org.openscada.osgi.equinox.console.timeout</entry>
						<entry>Integer</entry>
						<entry>optional</entry>
						<entry>
						The timeout in milliseconds after the login phase
						(after the user is authenticated). If no input is received
						for the specified amount of time the connection is closed by
						the server.
						</entry>
					</row>
				</tbody>
				</tgroup>
		</table>
		
	</sect3>

</sect2>

<sect2><title>org.openscada.ds.storage.file</title>
<para>
	The bundle <filename>org.openscada.ds.storage.file</filename> provides an implementation of
	the <acronym>DS</acronym> (Data Store) service based on the file system.
</para>

	<sect3><title>System properties</title>
		<para>
		The following system properties are available:
		</para>
		
		<table><title>System properties of <filename>org.openscada.ds.storage.file</filename></title>
				<tgroup cols="4">
				<thead>
					<row>
						<entry>Property</entry>
						<entry>Type</entry>
						<entry>Required</entry>
						<entry>Description</entry>
					</row>
				</thead>
				<tbody>
					<row>
						<entry>org.openscada.ds.storage.file.root</entry>
						<entry>String</entry>
						<entry>Required</entry>
						<entry>
						The base path to the file system storage where all data will be stored.
						Read and write access is required. If the directory does not exists
						it will be created including all parent directories. The path must not
						point to a file.
						</entry>
					</row>
				</tbody>
				</tgroup>
		</table>
		
	</sect3>

</sect2>

<sect2><title>org.openscada.sec.provider.script</title>
	<para>
	The bundle <filename>org.openscada.sec.provider.script</filename> contains
	and implementation of a authorization provider which is configured using JavaScript
	or other Java scripting compatible with JSR-223.
</para>

	<sect3><title>System properties</title>
		<para>
		No system properties are used by the bundle.
		</para>
	</sect3>
	
	<sect3><title>Exported services</title>
		<para>
		The following services are exported by this bundle:
		</para>
		
		<table><title>Exported services of <filename>org.openscada.sec.provider.script</filename></title>
				<tgroup cols="4">
				<thead>
					<row>
						<entry>Supported interfaces</entry>
						<entry>Description</entry>
					</row>
				</thead>
				<tbody>
					<row>
						<entry>org.openscada.sec.AuthorizationService</entry>
						<entry>
						A script language based authorization provider that evaluates requests
						by iterating through its configured entries as configured using the
						factory <filename>org.openscada.sec.provider.script.factory</filename>.
						</entry>
					</row>
				</tbody>
				</tgroup>
		</table>
		
	</sect3>
	
	<sect3><title>Configurable services</title>
		<para>
		The following configurable services are provided by this bundle:
		</para>
		
		<table><title>Configurable services of <filename>org.openscada.sec.provider.script</filename></title>
				<tgroup cols="4">
				<thead>
					<row>
						<entry>Factory ID</entry>
						<entry>Description</entry>
					</row>
				</thead>
				<tbody>
					<row>
						<entry>org.openscada.sec.provider.script.factory</entry>
						<entry>
						A configuration entry used to configure the authorization provider.
						</entry>
					</row>
				</tbody>
				</tgroup>
		</table>
		
	</sect3>
	
</sect2>
	
</sect1>