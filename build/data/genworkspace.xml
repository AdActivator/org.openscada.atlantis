<?xml version="1.0"?>
<!-- ====================================================================== 
     atalantis_gen_workspace    
     Generate an Atlantis Development Workspace
                   
	 Jens Reimann <jens.reimann@inavare.net>
     ====================================================================== -->
<project name="genworkspace" default="export">

    <description>
		Generate an Atlantis Development Workspace. This file is automatically
		generated by the build system.
    </description>
    
    <property name="import.dir" value="/tmp/import.atlantis"/>
	<property name="import.svn.bin" value="svn"/>
	
	<target name="export" depends="export-list">
	</target>
	
	<target name="export-svn" depends="export-list-svn">
	</target>
	
	<macrodef name="fetch-and-unpack">
		<attribute name="location"/>
		<sequential>
			<tempfile property="tempfile"/>
			<get src="@{location}" dest="${tempfile}"/>
			<unzip src="${tempfile}" dest="${import.dir}"/>
			<delete file="${tempfile}"/>
		</sequential>
	</macrodef>
	
	<macrodef name="checkout">
		<attribute name="url"/>
		<attribute name="project"/>
		<sequential>
			<mkdir dir="@{project}"/>
			<exec failonerror="true" executable="${import.svn.bin}">
				<arg value="co"/>
				<arg value="@{url}"/>
				<arg value="@{project}"/>
			</exec>
		</sequential>
	</macrodef>
	
	<target name="export-list"/>
	<target name="export-list-svn"/>
</project>
