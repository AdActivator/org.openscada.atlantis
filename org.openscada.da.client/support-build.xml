<?xml version="1.0"?>
<!-- ====================================================================== 
     openscada_da_client_net_plugin_wrapper    
     Support build file                                                  
     ====================================================================== -->
<project name="openscada_da_client_net_plugin_wrapper" default="default" basedir=".">
	<property name="libfile" location="../openscada_build/lib/build.xml"/>
	<import file="${libfile}"/>
	
	<property name="libjar" location="./lib.jar"/>
	
    <description>
            Support build file
    </description>

    <!-- ================================= 
          target: default              
         ================================= -->
    <target name="default" depends="genjar, genjar-maven" description="--> Support build file">
    	<delete dir="extbin" failonerror="false"/>
    	<mkdir dir="extbin"/>
    	<unzip dest="extbin" src="${libjar}">
    		<patternset>
    			<exclude name="META-INF/**"/>
    		</patternset>
    	</unzip>
    	<delete file="${libjar}"/>
    </target>
    	
   	<!-- ================================= 
          target: genjar              
         ================================= -->
    <target name="genjar" depends="" description="--> Generate the JAR file" unless="use.maven.dependecies">
		<openscada.pde.import-module.init/>
		<openscada.pde.import-module.add-module name="da-core-server"/>
		<openscada.pde.import-module.add-module name="da-core-common"/>
		<openscada.pde.import-module.add-module name="core-client-common"/>
		<openscada.pde.import-module.add-module name="da-client-common"/>
		<openscada.pde.import-module.finalize destfile="${libjar}"/>
    </target>

    <target name="genjar-maven" depends="" description="--> Generate the JAR file" if="use.maven.dependecies">
		<openscada.pde.import-module.init/>
    	<openscada.pde.import-module.add-maven-dependency artifactid="org.openscada.aurora.utils" groupid="org.openscada.aurora" groupIdBase="org.openscada"/>
    	<openscada.pde.import-module.add-maven-dependency artifactid="org.openscada.atlantis.da.core.server" groupIdBase="org.openscada"/>
    	<openscada.pde.import-module.add-maven-dependency artifactid="org.openscada.atlantis.da.client.common" groupIdBase="org.openscada"/>
		<openscada.pde.import-module.finalize destfile="${libjar}"/>
    </target>

</project>
